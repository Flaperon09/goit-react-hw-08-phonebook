{"version":3,"file":"static/js/101.39d25217.chunk.js","mappings":"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","sources":["components/RegisterForm/RegisterForm.styled.js","components/RegisterForm/RegisterForm.js","pages/Register/Register.js","redux/auth/operations.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Form = styled.form`\n    width: 320px;\n`;\n\nexport const Label = styled.label`\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 16px;\n`;","import { useDispatch } from 'react-redux';\nimport { register } from '../../redux/auth/operations';\nimport { Form } from './RegisterForm.styled';\nimport { Label } from './RegisterForm.styled';\n\nexport const RegisterForm = () => {\n  const dispatch = useDispatch();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    dispatch(\n      register({\n        name: form.elements.name.value,\n        email: form.elements.email.value,\n        password: form.elements.password.value,\n      })\n    );\n    form.reset();\n  };\n\n  return (\n    <Form onSubmit={handleSubmit} autoComplete=\"off\">\n      <Label>\n        Username\n        <input type=\"text\" name=\"name\" />\n      </Label>\n      <Label>\n        Email\n        <input type=\"email\" name=\"email\" />\n      </Label>\n      <Label>\n        Password\n        <input type=\"password\" name=\"password\" />\n      </Label>\n      <button type=\"submit\">Register</button>\n    </Form>\n  );\n};","import { Helmet } from 'react-helmet';\nimport { RegisterForm } from 'components/RegisterForm/RegisterForm';\n\nexport default function Register() {\n  return (\n    <div>\n      <Helmet>\n        <title>Registration</title>\n      </Helmet>\n      <RegisterForm />\n    </div>\n  );\n}","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://goit-task-manager.herokuapp.com/';\n\n// Utility to add JWT\nconst setAuthHeader = token => {\n  axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n};\n\n// Utility to remove JWT\nconst clearAuthHeader = () => {\n  axios.defaults.headers.common.Authorization = '';\n};\n\n/*\n * POST @ /users/signup\n * body: { name, email, password }\n */\nexport const register = createAsyncThunk(\n  'auth/register',\n  async (credentials, thunkAPI) => {\n    try {\n      const res = await axios.post('/users/signup', credentials);\n      // After successful registration, add the token to the HTTP header\n      setAuthHeader(res.data.token);\n      return res.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\n/*\n * POST @ /users/login\n * body: { email, password }\n */\nexport const logIn = createAsyncThunk(\n  'auth/login',\n  async (credentials, thunkAPI) => {\n    try {\n      const res = await axios.post('/users/login', credentials);\n      // After successful login, add the token to the HTTP header\n      setAuthHeader(res.data.token);\n      return res.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\n/*\n * POST @ /users/logout\n * headers: Authorization: Bearer token\n */\nexport const logOut = createAsyncThunk('auth/logout', async (_, thunkAPI) => {\n  try {\n    await axios.post('/users/logout');\n    // After a successful logout, remove the token from the HTTP header\n    clearAuthHeader();\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});\n\n/*\n * GET @ /users/current\n * headers: Authorization: Bearer token\n */\nexport const refreshUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    // Reading the token from the state via getState()\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      // If there is no token, exit without performing any request\n      return thunkAPI.rejectWithValue('Unable to fetch user');\n    }\n\n    try {\n      // If there is a token, add it to the HTTP header and perform the request\n      setAuthHeader(persistedToken);\n      const res = await axios.get('/users/me');\n      return res.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);"],"names":["Form","styled","_templateObject","_taggedTemplateLiteral","Label","_templateObject2","RegisterForm","dispatch","useDispatch","_jsxs","onSubmit","e","preventDefault","form","currentTarget","register","name","elements","value","email","password","reset","autoComplete","children","_jsx","type","Register","Helmet","axios","setAuthHeader","token","concat","createAsyncThunk","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","credentials","thunkAPI","res","_context","prev","next","sent","data","abrupt","t0","rejectWithValue","message","stop","_x","_x2","apply","arguments","logIn","_ref2","_callee2","_context2","_x3","_x4","_ref3","_callee3","_","_context3","_x5","_x6","_ref4","_callee4","state","persistedToken","_context4","getState","auth","_x7","_x8"],"sourceRoot":""}