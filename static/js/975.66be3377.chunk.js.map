{"version":3,"file":"static/js/975.66be3377.chunk.js","mappings":"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","sources":["components/LogineForm/LoginForm.styled.js","components/LogineForm/LoginForm.js","pages/Login/Login.js","redux/auth/operations.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Form = styled.form`\n    width: 320px;\n`;\n\nexport const Label = styled.label`\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 16px;\n`;","import { useDispatch } from 'react-redux';\nimport { logIn } from '../../redux/auth/operations';\nimport { Form } from './LoginForm.styled';\nimport { Label } from './LoginForm.styled';\n\nexport const LoginForm = () => {\n  const dispatch = useDispatch();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    dispatch(\n      logIn({\n        email: form.elements.email.value,\n        password: form.elements.password.value,\n      })\n    );\n    form.reset();\n  };\n\n  return (\n    <Form onSubmit={handleSubmit} autoComplete=\"off\">\n      <Label>\n        Email\n        <input type=\"email\" name=\"email\" />\n      </Label>\n      <Label>\n        Password\n        <input type=\"password\" name=\"password\" />\n      </Label>\n      <button type=\"submit\">Log In</button>\n    </Form>\n  );\n};","import { Helmet } from 'react-helmet';\nimport { LoginForm } from 'components/LogineForm';\n\nexport default function Login() {\n  return (\n    <div>\n      <Helmet>\n        <title>Login</title>\n      </Helmet>\n      <LoginForm />\n    </div>\n  );\n}","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://goit-task-manager.herokuapp.com/';\n\n// Utility to add JWT\nconst setAuthHeader = token => {\n  axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n};\n\n// Utility to remove JWT\nconst clearAuthHeader = () => {\n  axios.defaults.headers.common.Authorization = '';\n};\n\n/*\n * POST @ /users/signup\n * body: { name, email, password }\n */\nexport const register = createAsyncThunk(\n  'auth/register',\n  async (credentials, thunkAPI) => {\n    try {\n      const res = await axios.post('/users/signup', credentials);\n      // After successful registration, add the token to the HTTP header\n      setAuthHeader(res.data.token);\n      return res.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\n/*\n * POST @ /users/login\n * body: { email, password }\n */\nexport const logIn = createAsyncThunk(\n  'auth/login',\n  async (credentials, thunkAPI) => {\n    try {\n      const res = await axios.post('/users/login', credentials);\n      // After successful login, add the token to the HTTP header\n      setAuthHeader(res.data.token);\n      return res.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\n/*\n * POST @ /users/logout\n * headers: Authorization: Bearer token\n */\nexport const logOut = createAsyncThunk('auth/logout', async (_, thunkAPI) => {\n  try {\n    await axios.post('/users/logout');\n    // After a successful logout, remove the token from the HTTP header\n    clearAuthHeader();\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});\n\n/*\n * GET @ /users/current\n * headers: Authorization: Bearer token\n */\nexport const refreshUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    // Reading the token from the state via getState()\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      // If there is no token, exit without performing any request\n      return thunkAPI.rejectWithValue('Unable to fetch user');\n    }\n\n    try {\n      // If there is a token, add it to the HTTP header and perform the request\n      setAuthHeader(persistedToken);\n      const res = await axios.get('/users/me');\n      return res.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);"],"names":["Form","styled","_templateObject","_taggedTemplateLiteral","Label","_templateObject2","LoginForm","dispatch","useDispatch","_jsxs","onSubmit","e","preventDefault","form","currentTarget","logIn","email","elements","value","password","reset","autoComplete","children","_jsx","type","name","Login","Helmet","axios","setAuthHeader","token","concat","register","createAsyncThunk","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","credentials","thunkAPI","res","_context","prev","next","sent","data","abrupt","t0","rejectWithValue","message","stop","_x","_x2","apply","arguments","_ref2","_callee2","_context2","_x3","_x4","_ref3","_callee3","_","_context3","_x5","_x6","_ref4","_callee4","state","persistedToken","_context4","getState","auth","_x7","_x8"],"sourceRoot":""}